<!DOCTYPE html>
<html lang="sl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sevanje - Statistika</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <!-- Navbar -->
    <div class="navbar">
        <h2>Statistika</h2>
        <div id="top-departments-control">
            <label for="top-n">Vsota sevanja - oddelki:</label>
            <input id="top-n" type="number" min="1" value="5" />
            <button id="button2" onclick="fetchTopDepartments()">Prikaži</button>
        </div>
        <!-- Gumb za bubble chart -->
        <button id="bubble-chart-button" onclick="fetchAndRenderBubbleChart()">Povprečno oddelki bubble</button>
        
        <!-- SELEKCIJA DEPARTMENTA -->
        <div id="department-selection">
            <label for="department-input">Izberi delovno mesto:</label>
            <input id="department-input" type="text" placeholder="Vpiši ali izberi..." oninput="filterDepartments()" />
            <select id="department-dropdown" size="5" onchange="selectDepartment()">
                <!-- Seznam bo dinamično napolnjen -->
            </select>
            <button id="show-data-button" onclick="fetchAndRenderDepartmentChart()">Prikaži graf</button>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-container">
        <div class="content">
            <h1>Sevanje - Statistika</h1>
            <p id="loading-text" class="loading">Izberite vizualizacijo</p>
            <svg id="visualization" width="1000" height="500"></svg>
        </div>
    </div>

    <!-- JavaScript -->
    <script type="text/javascript" src="/static/test.js"></script>
    <script type="text/javascript" src="/static/topFive.js"></script>
    <script type="text/javascript" src="/static/topDepartments.js"></script>
    <script type="text/javascript" src="/static/distribution.js"></script>
    <script type="text/javascript" src="/static/avg_dept_bubble.js"></script>
    <script type="text/javascript" src="/static/selectDepartment.js"></script>
    <script type="text/javascript" src="/static/dept_over_time.js"></script>
</body>
</html>
